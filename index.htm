<html>
<head>
<title>Florograph</title>
<link rel="shortcut icon" href="M/b.ico" />
   <style>
      .helyes {color:green;}
      .hibás {color:red;}
	  #anshun{
  width : 150px;
  margin: 0;
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box; 
          box-sizing: border-box;
}
button, input, select, textarea {
  font-family : "Arial";
  font-size   : 13;
}
img{position:absolute;
    left: 50%; top:50%;
    transform:translate(-50%, -50%);
    max-width:600px;
    max-height:600px;
    width: auto;
    height: auto;
}
   </style>
   <script src="M/jquery-latest.min.js"
        type="text/javascript"></script>
</head>
<body>
<div style="position: absolute; top: 50%; left: 50%; margin-top: -350px; margin-left: -380px; width:870px; height:700px; z-index:0; background-color:#b6e192;"></div>
<div id="keret" style="position: absolute; top: 50%; left: 50%; margin-top: -330px; margin-left: -360px; width:600px; height:600px; z-index:0; background-color:#a1cb80"><img id="pict1"></div>
<div style="position: absolute; top: 50%; left: 50%; margin-top: -205px; margin-left: +255px; width:220px; height:140px; z-index:0; background-color:#a1cb80;"></div>
<style>body {background-color:#d3e5a2;}</style>
<script>
      function shuffle(array) {
         var currentIndex = array.length, temporaryValue, randomIndex;
         while (0 !== currentIndex) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;}
         return array;}
      var array_quiz = new Array();
array_quiz [0] = {lat: "Morchella esculenta" , hun: "Ízletes kucsmagomba", pic1:"1/1/1.jpg", pic2:"1/1/2.jpg", pic3:"1/1/3.jpg"};
array_quiz [1] = {lat: "Verpa bohemica" , hun: "Cseh kucsmagomba", pic1:"1/2/1.jpg", pic2:"1/2/2.jpg", pic3:"1/2/3.jpg"};
array_quiz [2] = {lat: "Tuber aestivum" , hun: "Nyári szarvasgomba", pic1:"1/3/1.jpg", pic2:"1/3/2.jpg", pic3:"1/3/3.jpg"};
array_quiz [3] = {lat: "Auricularia auricula-judae" , hun: "Júdásfülegomba", pic1:"1/4/1.jpg", pic2:"1/4/2.jpg", pic3:"1/4/3.jpg"};
array_quiz [4] = {lat: "Cantharellus cibarius" , hun: "sárga rókagomba", pic1:"1/5/1.jpg", pic2:"1/5/2.jpg", pic3:"1/5/3.jpg"};

var array_pic = new Array();
array_pic [0] = {picture: "pic1"};
array_pic [1] = {picture: "pic2"};
array_pic [2] = {picture: "pic3"};

function change()
{var value = document.getElementById('num').innerHTML;
var gamall = document.getElementById('gam').value;
value++;
    document.getElementById('num').innerHTML = value;
	array_pic = shuffle(array_pic);
	var mar=array_pic[0]['picture'];
	document.getElementById('pict1').src=array_quiz[value][mar];
	document.getElementById("lab1").innerHTML = "";
	document.getElementById("anshun").value = "";
	document.getElementById('tov').disabled = true;
	document.getElementById('ellenőrzés').disabled = false;
	document.getElementById('gam').value = ++gamall;
	}	
var i = 0;
$(document).ready(function(){document.getElementById("num").innerHTML = 0;
document.getElementById('tov').disabled = true;
array_quiz = shuffle(array_quiz);
array_pic = shuffle(array_pic);
mar = array_pic[0]['picture'];
document.getElementById('pict1').src=array_quiz[i][mar]});

function correct(){ document.getElementById('tov').disabled = false;
document.getElementById('ellenőrzés').disabled = true;
var q=document.getElementById('res1').value;
var x=document.getElementById('res2').value;
var ansh0=document.getElementById('anshun').value;
var ansh1=ansh0.toLowerCase();
var ansh2=ansh1.replace(/\s/g, '');
var erh;
var modhun0=array_quiz[i]['hun'];
var modhun1=modhun0.toLowerCase();
var modhun2=modhun1.replace(/\s/g, '');

if (ansh1==modhun1) {
     erh = "Helyes!";
	 document.getElementById("lab1").className = "helyes";
	 document.getElementById("lab1").innerHTML = erh;
	 document.getElementById('res1').value = ++q;}
	 
else if (ansh2==modhun2) {
     erh = array_quiz[i]['hun'];
	 document.getElementById("lab1").className = "helyes";
	 document.getElementById("lab1").innerHTML = erh;
	 document.getElementById('res1').value = ++q;}
	 
else {erh = array_quiz[i]['hun'];
     document.getElementById("lab1").className = "hibás";
     document.getElementById("lab1").innerHTML = erh;
     document.getElementById('res2').value = ++x;}
i++
}

document.onkeypress = function keypressed(){
  if (window.event.keyCode == 13 && document.getElementById('tov').disabled == false){
  document.getElementById('tov').click()}
  else if(window.event.keyCode == 13 && document.getElementById('tov').disabled == true){
  document.getElementById('ellenőrzés').click()}}
   </script>
   <p id="num" style="visibility:hidden"></p>
<table style="position: absolute; top: 50%; left: 50%; margin-top: -195px; margin-left: +275px; z-index:1">
  <tr><td align="right" style="color:green"><b>Helyes válaszok: </b></td><td><input type="text", size="1", id="res1" value="0" readonly></td></tr>
  <tr><td align="right" style="color:red"><b>Rossz válaszok: </b></td><td><input type="text", size="1", id="res2" value="0" readonly></td></tr>
  <tr><td align="right">Kérdések: </td><td><input type="text", size="1", id="gam" value="1" readonly></td><td><p>/ 5</p></td></tr>
</table>
<table style="position: absolute; top: 50%; left: 50%; margin-top: +285px; margin-left: -220px; z-index:1">
  <tr><td align="right">Magyar név: </td><td><input type="text", id="anshun"></td><td><p id="lab1" style="visibility:visible"></p></td></tr>
</table>
<input type="button" id="ellenőrzés" value="Kész!" onclick="correct()" style="position: absolute; top: 50%; left: 50%; margin-top: +325px; margin-left: -131px; z-index:1">
<input type="button" id="tov" value="Következő" onclick="change()" style="position: absolute; top: 50%; left: 50%; margin-top: +325px; margin-left: -57px; z-index:1">
<input type="button" value="Új kvíz" onClick="window.location.reload()" style="position: absolute; top: 50%; left: 50%; margin-top: -105px; margin-left: +325px; z-index:1">
</body>
</html>
